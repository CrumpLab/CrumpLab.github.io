<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.258">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Matt Crump">
<meta name="dcterms.date" content="2022-05-26">
<meta name="description" content="Notes on cheating behavior literature">

<title>crumplab - Brief notes on the cheating behavior literature</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-HPGGT4QZ8Q"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-HPGGT4QZ8Q', { 'anonymize_ip': true});
</script>


<link rel="stylesheet" href="../../styles.css">
<meta property="og:title" content="crumplab - Brief notes on the cheating behavior literature">
<meta property="og:description" content="Notes on cheating behavior literature">
<meta property="og:image" content="https://crumplab.com/blog/post_994_5_26_22_cheating/imgs/cheating.jpg">
<meta property="og:site-name" content="crumplab">
<meta name="twitter:title" content="crumplab - Brief notes on the cheating behavior literature">
<meta name="twitter:description" content="Notes on cheating behavior literature">
<meta name="twitter:image" content="https://crumplab.com/blog/post_994_5_26_22_cheating/imgs/cheating.jpg">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">crumplab</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../People.html" rel="" target="">
 <span class="menu-text">People</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../Publications.html" rel="" target="">
 <span class="menu-text">Pubs</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../Books.html" rel="" target="">
 <span class="menu-text">Books</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../Courses.html" rel="" target="">
 <span class="menu-text">Courses</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../Apps.html" rel="" target="">
 <span class="menu-text">Apps</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../Opportunities.html" rel="" target="">
 <span class="menu-text">Join</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../Blog.html" rel="" target="">
 <span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../Fun.html" rel="" target="">
 <span class="menu-text">Fun</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/CrumpLab" rel="" target=""><i class="bi bi-github" role="img" aria-label="GitHub">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://fosstodon.org/@MattCrumpLab" rel="" target=""><i class="bi bi-mastodon" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/MattCrumpLab" rel="" target=""><i class="bi bi-twitter" role="img" aria-label="Twitter">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.youtube.com/c/CrumpsComputationalCognitionLab" rel="" target=""><i class="bi bi-youtube" role="img" aria-label="Youtube">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../Blog.xml" rel="" target=""><i class="bi bi-rss" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#sporadic-notes" id="toc-sporadic-notes" class="nav-link active" data-scroll-target="#sporadic-notes">Sporadic notes</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Brief notes on the cheating behavior literature</h1>
  <div class="quarto-categories">
    <div class="quarto-category">teaching</div>
    <div class="quarto-category">cognition</div>
  </div>
  </div>

<div>
  <div class="description">
    Notes on cheating behavior literature
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Matt Crump </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">May 26, 2022</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<div class="cell" data-layout-align="center">
<style type="text/css">
@media (min-width: 1400px) {
    body {
        font-size:18px
    }

    .col-md-3 {
        margin-left: 5rem
    }

    .row {
        --bs-gutter-x: -20%!important;
    }

    .row>main {
        max-width: 40rem;
    }

}

</style>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="imgs/cheating.jpg" class="quarto-discovered-preview-image img-fluid figure-img" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
<p>Last knit: 2023-04-11</p>
<p>In a previous version of this post, I shared a detective/thriller themed story about academic integrity issues arising in a course I taught. The story picked up more attention than I anticipated. I shared the story as part of a course assessment writing exercise, which has now been completed, and the original post is no longer available.</p>
<p>Part of my course assessment exercise was to learn more about the literature on cheating behavior. I conducted a short literature review on that topic and am posting brief notes about a few of the papers.</p>
<p>For teaching psychology, I found this paper to be most relevant and current:</p>
<p>Jenkins, B. D., Golding, J. M., Le Grand, A. M., Levi, M. M., &amp; Pals, A. M. (2022). When Opportunity Knocks: College Students’ Cheating Amid the COVID-19 Pandemic. Teaching of Psychology, 009862832110590. https://doi.org/10.1177/00986283211059067</p>
<p>Also, I highly recommend checking out this book on ungrading, which is increasingly my preferred direction where possible.</p>
<p>Blum, S. D. (2020). Ungrading: Why rating students undermines learning (and what to do instead). West Virginia University Press.</p>
<section id="sporadic-notes" class="level2">
<h2 class="anchored" data-anchor-id="sporadic-notes">Sporadic notes</h2>
<p>Drake, C. A. (1941). Why students cheat. The Journal of Higher Education, 12(8), 418–420. https://doi.org/10.2307/1976003</p>
<p>From 1941…</p>
<p>Speculates on why students cheat as well as how the behavior seems elicited by the competitive structure of higher ed.</p>
<p>Gave a class of 126 students an opportunity to cheat. Reports that about 30% of students cheated. Students with lower grades cheated more than students with higher grades.</p>
<hr>
<p>Wrightsman Jr, L. S. (1959). Cheating—A research area in need of resuscitation. Peabody Journal of Education, 37(3), 145–149. <a href="https://doi.org/10.1080/01619565909536899" class="uri">https://doi.org/10.1080/01619565909536899</a></p>
<p>Laments that there isn’t much empirical work on cheating, and that most prior work repeatedly demonstrates the same finding: giving students the opportunity to cheat by allowing them to grade their own tests (and change their answers) elicits cheating behavior (the duplicating technique).</p>
<p>Estimates between 10-90% cheating rates from research giving students opportunity to cheat when grading their own exams.</p>
<p>Calls for more research on cheating that occurs in actual testing situations.</p>
<hr>
<p>Hetherington, E. M., &amp; Feldman, S. E. (1964). College cheating as a function of subject and situational variables. Journal of Educational Psychology, 55(4), 212. https://doi.org/10.1037/h0045337</p>
<p>pick-your-poison-psychology</p>
<p>sigh, but there are some head-bending t-tests</p>
<hr>
<p>Zastrow, C. H. (1970). Cheating among college graduate students. The Journal of Educational Research, 64(4), 157–160. https://doi.org/10.1080/00220671.1970.10884124</p>
<p>ABSTRACT Forty-five graduate students received three quizzes in one of their courses, and also filled out the Minnesota Multiphasic Personality Inventory (MMPI) and a questionnaire on cheating. The main findings were: (a) the inci dence of cheating among these graduate subjects was found to be at least as extensive as reported in prior studies among undergraduate students?at least eighteen of the forty-five (40%) graduate subjects cheated on the quizzes; (b) pressure to obtain good grades was the main reason subjects felt they cheated in the past; (c) there was a lack of consensus whether certain behaviors constitute cheating; (d) no significant personality differences were found between cheaters and non-cheaters; (e) the MMPI results provided evidence in support of the doctrine of specificity of moral behavior.</p>
<hr>
<p>Baird Jr, J. S. (1980). Current trends in college cheating. Psychology in the Schools, 17(4), 515–522. https://doi.org/10.1002/1520-6807(198010)17:4&lt;515::AID-PITS2310170417&gt;3.0.CO;2-3</p>
<p>Abstract</p>
<p>The purpose of this study was to investigate the frequency, methods, and correlates of college cheating. A questionnnaire measuring 7 subject variables and 33 specific behaviors was administered to 200 students. The finding that about 75% of those surveyed had cheated in college was interpreted as supporting an hypothesized trend toward increasing dishonesty. Data on approval and guilt, reasons for cheating, reactions to cheating, and specific techniques were included. It was found that sex, year in shcool, grade point average, academic major, fraternity-sorority membership, and extracurricular participation were significantly related to cheating. The conclusions supported the importance of traditional explanatory variables and suggested an interpretation based on attribution theory.</p>
<hr>
<p>Nuss, E. M. (1984). Academic integrity: Comparing faculty and student attitudes. Improving College and University Teaching, 32(3), 140–144. https://doi.org/10.1080/00193089.1984.10533862</p>
<p>Thoughtful and worth the read</p>
<hr>
<p>McCabe, D. L., &amp; Trevino, L. K. (1993). Academic dishonesty: Honor codes and other contextual influences. The Journal of Higher Education, 64(5), 522–538.</p>
<p>Measured student self-reported cheating rates by survey. Large N. Between colleges with and without honor codes.</p>
<hr>
<p>McCabe, D. L., Treviño, L. K., &amp; Butterfield, K. D. (2001). Cheating in academic institutions: A decade of research. Ethics &amp;Behavior, 11(3), 219–232. https://doi.org/10.1207/S15327019EB1103_2</p>
<p>Abstract</p>
<p>This article reviews 1 decade of research on cheating in academic institutions. This research demonstrates that cheating is prevalent and that some forms of cheating have increased dramatically in the last 30 years. This research also suggests that although both individual and contextual factors influence cheating, contextual factors, such as students’ perceptions of peers’ behavior, are the most powerful influence. In addition, an institution’s academic integrity programs and policies, such as honor codes, can have a significant influence on students’ behavior. Finally, we offer suggestions for managing cheating from students’ and faculty members’ perspectives.</p>
<p>Table 1 shows Self-Admitted Cheating—Summary Statistics which range from 44 to 82%.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="imgs/StudentTable3.png" class="img-fluid figure-img" style="width:50.0%"></p>
</figure>
</div>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="imgs/FacultyTable4.png" class="img-fluid figure-img" style="width:50.0%"></p>
</figure>
</div>
</div>
</div>
<hr>
<p>Bowers, W. J. (1964). Student dishonesty and its control in college. Bureau of Applied Social Research, Columbia University.</p>
<p>A first? large-scale survey on cheating in US colleges.</p>
<hr>
<p>Hollis, L. P. (2018). Ghost-students and the new wave of online cheating for community college students. New Directions for Community Colleges, 2018(183), 25–34. https://doi.org/10.1002/cc.20314</p>
<p>“I got very excited and signed up for several classes at the community college. My employer was paying for the online class but I should have remembered that I would be the one who’d have to take the classes in the end. I didn’t think about it . . . caused me a panic attack. . . . I took some of the classes and did some of the projects but I knew from the beginning that there was no way I could take the online classes and complete them myself. After having that epiphany, I realized that I’d be on the hook for part of the course fee if I didn’t take my online classes and complete them (yes, my employer would only pay if I passed the class) . . . Anyway, I did a bit of research and found No Need To Study. Hiring them was the best decision ever! No Need To Study works lightning fast; it is like they know the classes inside out, taking my classes in record time. I got my classes done! My employer paid and I have the certifications now.”</p>
<p><a href="https://www.noneedtostudy.com/take-my-online-class/" class="uri">https://www.noneedtostudy.com/take-my-online-class/</a> <a href="https://acemyassignment.com/" class="uri">https://acemyassignment.com/</a> <a href="https://www.paymetodoyourhomework.com/" class="uri">https://www.paymetodoyourhomework.com/</a></p>
<p>Hiring ghost students to take online classes appears to be big business. Offers some tips on deterrence.</p>
<hr>
<p>Stiles, B. L., Wong, N. C. W., &amp; LaBeff, E. E. (2018). College cheating thirty years later: The role of academic entitlement. Deviant Behavior, 39(7), 823–834. https://doi.org/10.1080/01639625.2017.1335520</p>
<hr>
<p>Krienert, J. L., Walsh, J. A., &amp; Cannon, K. D. (2021). Changes in the tradecraft of cheating: Technological advances in academic dishonesty. College Teaching, 1–10. https://doi.org/10.1080/87567555.2021.1940813</p>
<hr>
<p>Burgason, K. A., Sefiha, O., &amp; Briggs, L. (2019). Cheating is in the eye of the beholder: An evolving understanding of academic misconduct. Innovative Higher Education, 44(3), 203–218. https://doi.org/10.1007/s10755-019-9457-3</p>
<hr>
<p>Ives, B. (2020). Your Students Are Cheating More than You Think They Are. Why?. Educational Research: Theory and Practice, 31(1), 46–53.</p>
<p>Evaluates neutralization theory approach to academic misconduct.</p>
<p>Neutralization theory posits a five-factor system to explain how students justify academic misconduct:</p>
<ol type="1">
<li>Denial of Responsibility</li>
<li>Denial of Injury</li>
<li>Denial of Victim</li>
<li>Condemnation of the Condemner</li>
<li>Appeal to higher loyalties</li>
</ol>
<p>This theory was developed in the context of juvenile delinquency and often applied to academic misconduct.</p>
<p>Table 1 is reasons for Academic misconduct from a sample of university students from 6 institutions in Romania.</p>
<p>Factor analysis suggests student reasons have a single dimension, not five dimensions.</p>
<p>Suggests Achievement Goal Theory as a better model (Urdan, 1997).</p>
<hr>
<p>Daumiller, M., &amp; Janke, S. (2019). The impact of performance goals on cheating depends on how performance is evaluated. AERA Open, 5(4), 2332858419894276. https://doi.org/10.1177/2332858419894276</p>
<hr>
<p>Jenkins, B. D., Golding, J. M., Le Grand, A. M., Levi, M. M., &amp; Pals, A. M. (2022). When Opportunity Knocks: College Students’ Cheating Amid the COVID-19 Pandemic. Teaching of Psychology, 009862832110590. https://doi.org/10.1177/00986283211059067</p>
<p><strong>GOOD SUMMARY PAPER</strong></p>
<p>Nice overall summary of background, and reports on open ended self-report questions from students about their cheating behavior.</p>
<p>74.8% reported cheating</p>
<p>1/205 reported being caught.</p>
<p>No impact of demographics</p>
<hr>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>