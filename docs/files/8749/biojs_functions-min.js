function registerMouseDialogPosition(idTarget,idLink){jQuery("#"+idLink).mousemove(function(event){});}function displayPdbBioJs(idTarget,pdbId,idMainContainer){if(typeof Biojs=="undefined"||typeof Biojs.Protein3D=="undefined"||typeof Biojs.Protein3DCanvas=="undefined"){jQuery.cachedScript("/bioJs/js/Biojs.js").done(function(script,textStatus){jQuery.cachedScript("/bioJs/js/Biojs.Protein3D.js").done(function(script,textStatus){jQuery.cachedScript("/bioJs/js/Biojs.Protein3DCanvas.js").done(function(script,textStatus){jQuery.cachedScript("/bioJs/dependencies/jsmol-14.29.10/jsmol/JSmol.min.nojq.js").done(function(script,textStatus){jQuery.cachedScript("/bioJs/dependencies/jsmol-14.29.10/jsmol/js/Jmol2.js").done(function(script,textStatus){jQuery.cachedCss("/bioJs/css/biojs.Protein3D.css").done(function(script,textStatus){displayPdbBioJsInternal(idTarget,pdbId,idMainContainer,"");});});});});});});}else{displayPdbBioJsInternal(idTarget,pdbId,idMainContainer,"");}}function displayPdbBioJsInternal(idTarget,pdbId,idMainContainer,javascriptClosing){if(jQuery("#"+idTarget+"_container").is(":visible")==false){var instancePdb=new Biojs.Protein3DCanvas({target:idTarget,jsmolFolder:"/bioJs/dependencies/jsmol-14.29.10/jsmol",height:440,width:440,style:Biojs.Protein3D.STYLE_CARTOON,loadingStatusImage:"/images/ajax-loader.gif",use:"HTML5 JAVA",proxyUrl:"/bioJs/jsmol.jsp",viewControls:false});instancePdb.setPdb(pdbId.toLowerCase());var code_title='<div class="title_pdb">PDB STRUCTURE '+pdbId+'</div> <div class="close_link_pdb"><a href="#" onclick="hidePdbBioJs(\'#'+idTarget+"_container','"+idMainContainer+"');"+javascriptClosing+'return false;" class="ui-icon-closethick ui-icon"></a></div>';if(jQuery("#"+idTarget+"_container .title_tm_summary_side_element").length>0){jQuery("#"+idTarget+"_container .title_tm_summary_side_element").html(code_title);}if(jQuery("#"+idTarget+"_container .title_crossref_side_element").length>0){jQuery("#"+idTarget+"_container .title_crossref_side_element").html(code_title);}if($("#"+idMainContainer).find(".relartsdiv").length!==0){var max_height=jQuery("#"+idMainContainer+" .relartsdiv").css("max-height");max_height=max_height.replace("px","");max_height=parseInt(max_height)+510;jQuery("#"+idMainContainer+" .relartsdiv").css("max-height",max_height+"px");}jQuery("#"+idTarget+"_container").css("margin-top","10px");parentIdexpanded.push(idMainContainer);jQuery("#"+idTarget+"_container").toggle(1000);}}function hidePdbBioJs(idContainer,idMainContainer){if($("#"+idMainContainer).find(".relartsdiv").length!==0){var max_height=jQuery("#"+idMainContainer+" .relartsdiv").css("max-height");max_height=max_height.replace("px","");max_height=parseInt(max_height)-510;jQuery("#"+idMainContainer+" .relartsdiv").css("max-height",max_height+"px");}jQuery(idContainer).toggle(1000);setTimeout(function(){var indexMainContainer=parentIdexpanded.indexOf(idMainContainer);parentIdexpanded.splice(indexMainContainer,1);},1300);}function managePdbBioJSDataTab(idTarget,pdbId,idMainContainer,javascriptClosing){if(jQuery("#"+idTarget+"_container").is(":visible")==false){displayPdbBioJsInternal(idTarget,pdbId,idMainContainer,javascriptClosing);}else{hidePdbBioJs("#"+idTarget+"_container",idMainContainer);}}function displayChebiBioJs(idTarget,chebiId,idMainContainer,javascriptClosing){if(typeof Biojs=="undefined"||typeof Biojs.ChEBICompound=="undefined"){jQuery.cachedScript("/bioJs/js/Biojs.js").done(function(script,textStatus){jQuery.cachedScript("/bioJs/js/Biojs.ChEBICompound.js").done(function(script,textStatus){jQuery.cachedCss("/bioJs/css/biojs.ChEBICompound.css").done(function(script,textStatus){displayChebiBioJsInternal(idTarget,chebiId,idMainContainer,javascriptClosing);});});});}else{displayChebiBioJsInternal(idTarget,chebiId,idMainContainer,javascriptClosing);}}function manageChebiBioJSDataTab(idTarget,chebiId,idMainContainer,javascriptClosing){if(jQuery("#"+idTarget+"_container").is(":visible")==false){displayChebiBioJs(idTarget,chebiId,idMainContainer,javascriptClosing);}else{hideChebiBioJs("#"+idTarget+"_container",idMainContainer);}}function displayChebiBioJsInternal(idTarget,chebiId,idMainContainer,javascriptClosing){if(jQuery("#"+idTarget+"_container").is(":visible")==false){var instanceChebi=new Biojs.ChEBICompound({target:idTarget,id:"CHEBI:"+chebiId,height:280,width:280,imageDimension:280});instanceChebi.onImageLoaded(function(e){parentIdexpanded.push(idMainContainer);jQuery("#"+idTarget+" .ChEBICompound_image").css("float","left");jQuery("#"+idTarget).css("margin-left","85px");jQuery("#"+idTarget+" .ChEBICompound_tab").css("display","none");jQuery("#"+idTarget+"_container").css("height","305px");jQuery("#"+idTarget+"_container").css("width","450px");var code_title='<div class="title_chebi">CHEBI STRUCTURE '+chebiId+'</div> <div class="close_link_chebi"><a href="#" onclick="hideChebiBioJs(\'#'+idTarget+"_container','"+idMainContainer+"');"+javascriptClosing+'return false;" class="ui-icon-closethick ui-icon"></a></div>';if(jQuery("#"+idTarget+"_container .title_tm_summary_side_element").length>0){jQuery("#"+idTarget+"_container .title_tm_summary_side_element").html(code_title);}if(jQuery("#"+idTarget+"_container .title_crossref_side_element").length>0){jQuery("#"+idTarget+"_container .title_crossref_side_element").html(code_title);}if($("#"+idMainContainer).find(".relartsdiv").length!==0){var max_height=jQuery("#"+idMainContainer+" .relartsdiv").css("max-height");max_height=max_height.replace("px","");max_height=parseInt(max_height)+315;jQuery("#"+idMainContainer+" .relartsdiv").css("max-height",max_height+"px");}jQuery("#"+idTarget+"_container").css("margin-top","10px");jQuery("#"+idTarget+"_container").toggle(1000);});instanceChebi.onRequestError(function(e){if(e.message=="No image available"){alert("Sorry, the CHEBI database does not have a structure image available for CHEBI:"+chebiId);}});}}function hideChebiBioJs(idContainer,idMainContainer){if($("#"+idMainContainer).find(".relartsdiv").length!==0){var max_height=jQuery("#"+idMainContainer+" .relartsdiv").css("max-height");max_height=max_height.replace("px","");max_height=parseInt(max_height)-315;jQuery("#"+idMainContainer+" .relartsdiv").css("max-height",max_height+"px");}jQuery(idContainer).toggle(1000);setTimeout(function(){var indexMainContainer=parentIdexpanded.indexOf(idMainContainer);parentIdexpanded.splice(indexMainContainer,1);},1300);}function displayChemblBioJs(idTarget,chemblId,idMainContainer){jQuery.cachedScript("/bioJs/js/Biojs.js").done(function(script,textStatus){jQuery.cachedScript("/bioJs/js/Biojs.ChEMBLCompound.js").done(function(script,textStatus){if(jQuery("#"+idTarget+"_container").is(":visible")==false){var instanceChembl=new Biojs.ChEMBLCompound({target:idTarget,id:chemblId,height:200,width:200});parentIdexpanded.push(idMainContainer);jQuery("#div"+chemblId).css("float","left");jQuery("#"+idTarget).css("margin-left","125px");jQuery("#"+idTarget+"_container").css("height","230px");jQuery("#"+idTarget+"_container").css("width","450px");var code_title='<div class="title_chembl">CHEMBL STRUCTURE '+chemblId+'</div> <div class="close_link_chembl"><a href="#" onclick="hideChemblBioJs(\'#'+idTarget+"_container','"+idMainContainer+'\');return false;" class="ui-icon-closethick ui-icon"></a></div>';if(jQuery("#"+idTarget+"_container .title_tm_summary_side_element").length>0){jQuery("#"+idTarget+"_container .title_tm_summary_side_element").html(code_title);}if(jQuery("#"+idTarget+"_container .title_crossref_side_element").length>0){jQuery("#"+idTarget+"_container .title_crossref_side_element").html(code_title);}if($("#"+idMainContainer).find(".relartsdiv").length!==0){var max_height=jQuery("#"+idMainContainer+" .relartsdiv").css("max-height");max_height=max_height.replace("px","");max_height=parseInt(max_height)+275;jQuery("#"+idMainContainer+" .relartsdiv").css("max-height",max_height+"px");}jQuery("#"+idTarget+"_container").css("margin-top","10px");jQuery("#"+idTarget+"_container").toggle(1000);}});});}function hideChemblBioJs(idContainer,idMainContainer){if($("#"+idMainContainer).find(".relartsdiv").length!==0){var max_height=jQuery("#"+idMainContainer+" .relartsdiv").css("max-height");max_height=max_height.replace("px","");max_height=parseInt(max_height)-275;jQuery("#"+idMainContainer+" .relartsdiv").css("max-height",max_height+"px");}jQuery(idContainer).toggle(1000);setTimeout(function(){var indexMainContainer=parentIdexpanded.indexOf(idMainContainer);parentIdexpanded.splice(indexMainContainer,1);},1300);}function bindAnnotationPopupAccordions(){$("body").on("click",".menu_annotation_type_title",function(){var $this=$(this);var $parent=$this.closest(".menu_annotation_type");if($parent.hasClass("active")){return;}var $container=$this.closest(".annotation--details-popup");var ann_type=$container.find(".active.menu_annotation_type").attr("data_type");$container.find(".active.menu_annotation_type").addClass(ann_type);$container.find(".active.menu_annotation_type").addClass("inactive");$container.find(".active.menu_annotation_type").removeClass("active");ann_type=$parent.attr("data_type");$parent.addClass("active");$parent.removeClass("inactive");$parent.removeClass(ann_type);$parent.Class("active");});}function loadAnnotationsFullText(pmcIdValue,idDivContainer,idDivLegend,noAnnotationStart,hostVirtuoso){var annotatorFull=new Biojs.Annotator({target:idDivContainer,pmcId:pmcIdValue,proxyUrl:"/bioJs/annotation_biojs.jsp",idLegend:idDivLegend,noAnnotationStart:noAnnotationStart,allowDuplicates:true,hostVirtuoso:hostVirtuoso,regExpSearch:false,regExpByCharacter:false,optimizedVersion:true});bindAnnotationPopupAccordions();annotatorFull.load();}function goToFullTextAnnotation(pmcIdValue,idDivContainer,idDivLegend){var annotationIdpresent=false;var currentUrl=window.location.href;if(currentUrl.indexOf("#")>0){var annotationId=currentUrl.split("#")[1];var providerLabel=annotationId.split("-")[0];var optionsAnnotator={target:idDivContainer,pmcId:pmcIdValue,isAbstract:0,proxyUrl:"/bioJs/annotation_biojs_fulltext_linkback.jsp",idLegend:"",noAnnotationStart:false,specificId:1,annotationId:annotationId,elaborationAnnotation:true,idLegend:idDivLegend,regExpSearch:true,regExpByCharacter:true};var annotator=getAnnotatorByLink(providerLabel,optionsAnnotator);if(annotator!=null){annotator.load();annotationIdpresent=true;}}if(annotationIdpresent==false){loadAnnotationsFullText(pmcIdValue,idDivContainer,idDivLegend,true,"");}}function loadAnnotationsAbstract(srcValue,extIdValue,idDivContainer,idDivLegend,noAnnotationStart,hostVirtuoso,entityVal){var annotatorAbstract=new Biojs.Annotator({target:idDivContainer,extId:extIdValue,src:srcValue,proxyUrl:"/bioJs/annotation_biojs_abstract.jsp",idLegend:idDivLegend,noAnnotationStart:noAnnotationStart,allowDuplicates:true,hostVirtuoso:hostVirtuoso,isAbstract:1,entity:entityVal,regExpSearch:false,regExpByCharacter:false,optimizedVersion:true});annotatorAbstract.load();}function goToAbstractAnnotation(srcValue,extIdValue,idDivContainer,entityVal,idDivLegend){var annotationIdpresent=false;var currentUrl=window.location.href;bindAnnotationPopupAccordions();if(currentUrl.indexOf("#")>0){var annotationId=currentUrl.split("#")[1];var providerLabel=annotationId.split("-")[0];var optionsAnnotator={target:idDivContainer,extId:extIdValue,src:srcValue,isAbstract:1,entity:entityVal,proxyUrl:"/bioJs/annotation_biojs_abstract_linkback.jsp",idLegend:"",noAnnotationStart:false,specificId:1,annotationId:annotationId,idLegend:idDivLegend,regExpSearch:true,regExpByCharacter:true};var annotator=getAnnotatorByLink(providerLabel,optionsAnnotator);if(annotator!=null){annotator.load();annotationIdpresent=true;}}if(annotationIdpresent==false){loadAnnotationsAbstract(srcValue,extIdValue,idDivContainer,idDivLegend,true,"",entityVal);}}function getAnnotatorByLink(providerLabel,optionsAnnotator){var annotator=null;if(providerLabel=="intact"){annotator=new Biojs.AnnotatorIntact(optionsAnnotator);annotator._setClassName(Biojs.AnnotatorBase.CLASSNAME_INTACT);}else{if(providerLabel=="europepmc"){annotator=new Biojs.Annotator(optionsAnnotator);annotator._setClassName(Biojs.AnnotatorBase.CLASSNAME_RDF);}else{if(providerLabel=="geneRif"){annotator=new Biojs.AnnotatorGeneRef(optionsAnnotator);annotator._setClassName(Biojs.AnnotatorBase.CLASSNAME_GENE_REF);}else{if(providerLabel=="openTargets"){annotator=new Biojs.AnnotatorOpenTarget(optionsAnnotator);annotator._setClassName(Biojs.AnnotatorBase.CLASSNAME_OPEN_TARGET);}else{if(providerLabel=="nactem"){annotator=new Biojs.AnnotatorEvent(optionsAnnotator);annotator._setClassName(Biojs.AnnotatorBase.CLASSNAME_EVENT);}else{if(providerLabel=="pubtator"){annotator=new Biojs.AnnotatorNCBI(optionsAnnotator);annotator._setClassName(Biojs.AnnotatorBase.CLASSNAME_NCBI);}else{if(providerLabel=="disgenet"){annotator=new Biojs.AnnotatorDisgenet(optionsAnnotator);annotator._setClassName(Biojs.AnnotatorBase.CLASSNAME_DISGENET);}else{if(providerLabel=="fnl"){annotator=new Biojs.AnnotatorGreco(optionsAnnotator);annotator._setClassName(Biojs.AnnotatorBase.CLASSNAME_GRECO);}}}}}}}}return annotator;}