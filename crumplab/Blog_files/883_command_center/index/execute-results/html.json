{
  "hash": "9749ce0c971e0cd98448787f486d62f1",
  "result": {
    "markdown": "---\ntitle: \"What if I made an R command center for tweeting and tooting?\"\ndescription: \"Messing around with stuff in R on a friday Morning\"\nauthor: \"Matt Crump\"\ndate: '2022-10-28'\ndate-modified: last-modified\nimage: 'images/command.jpg'\nheader-includes: |\n  <meta property=\"og:image:width\" content=\"800\" />\n  <meta property=\"og:image:height\" content=\"400\" />\nopengraph:\n  image-width: 800\n  image-height: 400\n  twitter:\n    card: summary_large_image\n    creator: \"@MattCrumpLab\"\n    site: \"@MattCrumpLab\"\ncategories:\n  - social\n  - twitter\n  - mastodon\n---\n\n::: {.cell}\n::: {.cell-output-display}\n![](images/command.jpg){width=100%}\n:::\n:::\n\n\nI am multivalent about social media. And, I'm not going to hash out those valences right now.\n\nInstead, in addition to twitter (where I have gone through a few account deletion cycles, [\\@MattCrumpLab](https://twitter.com/MattCrumpLab)), I just joined Mastodon [\\@MattCrumpLab\\@fosstodon.org](https://fosstodon.org/@MattCrumpLab). I'm not sure for how long, for either place.\n\nI remember feeling happy and sad when deleting twitter accounts. I did not take precautions to save or archive some of the content that I deleted, and I wish I did. If I had sent all those tweets from a personal central command center, then I maybe I would still have them.\n\nAnyway, let's get on with business. My purpose here is to nerd-out and use R to send tweets or toots, or both. This way I'm thinking about a content curation strategy, and thinking about what deploying the content on various platforms means etc.\n\n## Can I send a tweet with R?\n\nLooks like tweeting from R can be done with <https://github.com/ropensci/rtweet>.\n\nThis worked, and it was a bit of pain to wade through the twitter developer authentication process.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(rtweet)\n\nauth <- rtweet_bot()\n\nrtweet::post_tweet(status = \"Testing out rtweet::post_tweet to see if I can post from Rstudio.\", token=auth)\n```\n:::\n\n\nSome notes to self about what I did. The {rtweet} documentation was helpful.\n\n1.  Make a twitter developer account\n2.  Register an app\n3.  Request elevated status\n4.  Give the app access to my account\n5.  Save the API key and secret, and bearer token\n6.  Generate token and secret for user account access.\n\nAll this took about an hour of messing around. I was using the wrong authentication methods for trying to post a tweet. `rtweet_bot()` triggers text input prompts to enter all of the keys and secrets, and these can be saved for use in future sessions.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrtweet::auth_as(auth)\nmy_timeline <- get_my_timeline(token=auth)\n\nreply_id <- my_timeline[10,]$id_str\n\nlibrary(tidyverse)\nlibrary(ggrepel)\n\ntmp <- starwars %>%\n  filter(mass < 1000) %>%\nggplot(aes(x=height,y=mass,label=name))+\n  geom_text_repel()+\n  geom_text()\n\nggsave(\"starwars.png\",plot=tmp)\n\npost_tweet(\"proof of ggplot for @vuorre\", \n           media = \"starwars.png\", \n           media_alt_text = \"A plot of star wars characters by height and mass.\",\n           in_reply_to_status_id = reply_id,\n           token = auth)\n\npost_tweet(\"rtweet works, took a while to set up. \\n Requiring alt_text for media is a nice nudge\", token=auth)\n```\n:::\n\n\nInteresting. Mission accomplished. Still have to figure out more complicated stuff like posting threads, etc. Moving on to tooting at Mastodon.\n\n## Can I toot with R?\n\nI will try to do this with [mastodon](https://github.com/ThomasChln/mastodon) client for R.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(mastodon)\n\ntoken <- login('https://fosstodon.org/', my_email, my_password)\n\npost_status(token, 'This is a test post from an R console, using the mastodon client for R.')\n```\n:::\n\n\nThat was easy.\n\n## What's next\n\nTime to go outside and do other stuff. Leaving these breadcrumbs here for later.\n\nAlso, I could just use this cross-posting service <https://crossposter.masto.donte.com.br>\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}